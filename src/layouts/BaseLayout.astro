---
import '../styles/global.css';

export interface Props {
  title: string;
  description?: string;
}

const { title, description = 'ConnexaLine – Ihr Partner für moderne Telekommunikations und Glasfaserinfrastruktur.' } = Astro.props;
---

<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <title>{title} | ConnexaLine</title>
  </head>
  <body>
    <header id="header" class="header">
      <nav class="container-custom">
        <div class="nav-inner">
          <a href="/" class="nav-logo">
            <span class="nav-logo-text">ConnexaLine</span>
          </a>
          
          <div class="nav-links">
            <a href="/" class="nav-link">Home</a>
            <a href="/services" class="nav-link">Leistungen</a>
            <a href="/projects" class="nav-link">Projekte</a>
            <a href="/about" class="nav-link">Über uns</a>
            <a href="/contact" class="btn-primary btn-nav">Kontakt</a>
          </div>
          
          <button id="mobile-menu-btn" class="mobile-menu-btn" aria-label="Menü öffnen">
            <svg class="menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
        </div>
      </nav>
      
      <div id="mobile-menu" class="mobile-menu">
        <div class="container-custom">
          <a href="/" class="mobile-link">Home</a>
          <a href="/services" class="mobile-link">Leistungen</a>
          <a href="/projects" class="mobile-link">Projekte</a>
          <a href="/about" class="mobile-link">Über uns</a>
          <a href="/contact" class="btn-primary mobile-btn">Kontakt</a>
        </div>
      </div>
    </header>

    <main>
      <slot />
    </main>

    <footer class="footer">
      <div class="container-custom">
        <div class="footer-top">
          <div class="footer-brand">
            <a href="/" class="footer-logo">
              <span class="nav-logo-icon">
              <span>ConnexaLine</span>
            </a>
            <p class="footer-tagline">
              Verbindung, die Zukunft schafft.<br/>
              Ihr Partner für Glasfaser und Telekommunikationsinfrastruktur.
            </p>
          </div>
          
          <div class="footer-nav">
            <h4 class="footer-nav-title">Navigation</h4>
            <ul class="footer-nav-list">
              <li><a href="/">Home</a></li>
              <li><a href="/services">Leistungen</a></li>
              <li><a href="/projects">Projekte</a></li>
              <li><a href="/about">Über uns</a></li>
              <li><a href="/contact">Kontakt</a></li>
            </ul>
          </div>
          
          <div class="footer-nav">
            <h4 class="footer-nav-title">Leistungen</h4>
            <ul class="footer-nav-list">
              <li><a href="/services/ftth">Glasfaser FTTH</a></li>
              <li><a href="/services/infrastructure">Infrastruktur</a></li>
              <li><a href="/services/maintenance">Wartung</a></li>
            </ul>
          </div>
          
          <div class="footer-nav">
            <h4 class="footer-nav-title">Rechtliches</h4>
            <ul class="footer-nav-list">
              <li><a href="/impressum">Impressum</a></li>
              <li><a href="/datenschutz">Datenschutz</a></li>
            </ul>
          </div>
        </div>
        
        <div class="footer-bottom">
          <p>© 2026 ConnexaLine. Alle Rechte vorbehalten.</p>
        </div>
      </div>
    </footer>

    <style>
      .header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 100;
        transition: all 0.3s ease;
      }
      
      .header.scrolled {
        background: rgba(11, 14, 17, 0.95);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
      }
      
      .nav-inner {
        display: flex;
        align-items: center;
        justify-content: space-between;
        height: 5rem;
      }
      
      .nav-logo {
        display: flex;
        align-items: center;
        gap: 0.625rem;
        text-decoration: none;
        transition: opacity 0.2s ease;
      }
      
      .nav-logo:hover {
        opacity: 0.8;
      }
      
      .nav-logo-icon {
        width: 2rem;
        height: 2rem;
        color: #1EC8E8;
      }
      
      .nav-logo-icon svg {
        width: 100%;
        height: 100%;
      }
      
      .nav-logo-text {
        font-size: 1.25rem;
        font-weight: 700;
        color: #fff;
      }
      
      .nav-links {
        display: none;
        align-items: center;
        gap: 2rem;
      }
      
      @media (min-width: 768px) {
        .nav-links {
          display: flex;
        }
      }
      
      .nav-link {
        font-size: 0.9375rem;
        font-weight: 500;
        color: #9CA3AF;
        text-decoration: none;
        transition: color 0.2s ease;
      }
      
      .nav-link:hover {
        color: #fff;
      }
      
      .btn-nav {
        padding: 0.625rem 1.25rem;
      }
      
      .mobile-menu-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 2.5rem;
        height: 2.5rem;
        background: transparent;
        border: none;
        color: #fff;
        cursor: pointer;
      }
      
      @media (min-width: 768px) {
        .mobile-menu-btn {
          display: none;
        }
      }
      
      .menu-icon {
        width: 1.5rem;
        height: 1.5rem;
      }
      
      .mobile-menu {
        display: none;
        background: #12161B;
        border-top: 1px solid rgba(255, 255, 255, 0.08);
        padding: 1.5rem 0;
      }
      
      .mobile-menu.open {
        display: block;
      }
      
      .mobile-link {
        display: block;
        padding: 0.75rem 0;
        font-size: 1rem;
        font-weight: 500;
        color: #9CA3AF;
        text-decoration: none;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      }
      
      .mobile-link:hover {
        color: #fff;
      }
      
      .mobile-btn {
        display: inline-flex;
        margin-top: 1rem;
      }
      
      .footer {
        background: #0A0D10;
        border-top: 1px solid rgba(255, 255, 255, 0.06);
        padding-top: 4rem;
        padding-bottom: 2rem;
      }
      
      .footer-top {
        display: grid;
        grid-template-columns: 1fr;
        gap: 2.5rem;
        padding-bottom: 3rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      }
      
      @media (min-width: 640px) {
        .footer-top {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      
      @media (min-width: 1024px) {
        .footer-top {
          grid-template-columns: 2fr 1fr 1fr 1fr;
        }
      }
      
      .footer-logo {
        display: flex;
        align-items: center;
        gap: 0.625rem;
        text-decoration: none;
        font-size: 1.25rem;
        font-weight: 700;
        color: #fff;
        margin-bottom: 1rem;
      }
      
      .footer-tagline {
        font-size: 0.9375rem;
        line-height: 1.7;
        color: #6B7280;
      }
      
      .footer-nav-title {
        font-size: 0.875rem;
        font-weight: 600;
        color: #fff;
        margin-bottom: 1rem;
      }
      
      .footer-nav-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      
      .footer-nav-list li {
        margin-bottom: 0.625rem;
      }
      
      .footer-nav-list a {
        font-size: 0.875rem;
        color: #6B7280;
        text-decoration: none;
        transition: color 0.2s ease;
      }
      
      .footer-nav-list a:hover {
        color: #1EC8E8;
      }
      
      .footer-bottom {
        padding-top: 2rem;
        text-align: center;
      }
      
      .footer-bottom p {
        font-size: 0.8125rem;
        color: #4B5563;
      }
    </style>

    <script>
      const header = document.getElementById('header');
      const mobileMenuBtn = document.getElementById('mobile-menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');

      window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
          header?.classList.add('scrolled');
        } else {
          header?.classList.remove('scrolled');
        }
      });

      mobileMenuBtn?.addEventListener('click', () => {
        mobileMenu?.classList.toggle('open');
      });

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add('is-visible');
              observer.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.1, rootMargin: '0px 0px -50px 0px' }
      );

      document.querySelectorAll('.animate-fade-up').forEach((el) => {
        observer.observe(el);
      });
    </script>
  </body>
</html>
